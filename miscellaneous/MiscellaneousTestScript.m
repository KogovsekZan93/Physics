% The test for the miscellaneous function package is 
% passed if the command window is empty after running this 
% script. 


clc;

%The following is the protocol for the GetCustomDistribution 
% function. 

handle_ProportionalPDF1 = @(x)1 / (1 + power(x - 3, 2));
IntervalLimits = [-5; 10];
N_ValuesInInterval = 50;
N_MaxRep = 20;
DistributionWeighedValues = GetCustomDistribution...
(handle_ProportionalPDF1, IntervalLimits, ...
N_ValuesInInterval, N_MaxRep);
DistributionWeighedValuesStandard = [-3.163265306122449; -2.857142857142857; -2.551020408163265; -2.244897959183673; -1.938775510204082; -1.632653061224490; -1.326530612244898; -1.020408163265306; -0.714285714285714; -0.408163265306122; -0.408163265306122; -0.102040816326531; -0.102040816326531; 0.204081632653061; 0.204081632653061; 0.510204081632653; 0.510204081632653; 0.510204081632653; 0.816326530612245; 0.816326530612245; 0.816326530612245; 1.122448979591836; 1.122448979591836; 1.122448979591836; 1.122448979591836; 1.428571428571429; 1.428571428571429; 1.428571428571429; 1.428571428571429; 1.428571428571429; 1.428571428571429; 1.734693877551020; 1.734693877551020; 1.734693877551020; 1.734693877551020; 1.734693877551020; 1.734693877551020; 1.734693877551020; 1.734693877551020; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.040816326530612; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.346938775510204; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.653061224489796; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 2.959183673469388; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.265306122448980; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.571428571428571; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 3.877551020408163; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.183673469387756; 4.489795918367347; 4.489795918367347; 4.489795918367347; 4.489795918367347; 4.489795918367347; 4.489795918367347; 4.795918367346939; 4.795918367346939; 4.795918367346939; 4.795918367346939; 4.795918367346939; 5.102040816326531; 5.102040816326531; 5.102040816326531; 5.102040816326531; 5.408163265306122; 5.408163265306122; 5.408163265306122; 5.714285714285714; 5.714285714285714; 6.020408163265307; 6.020408163265307; 6.326530612244898; 6.326530612244898; 6.632653061224490; 6.938775510204081; 7.244897959183673; 7.551020408163266; 7.857142857142858; 8.163265306122449; 8.469387755102041; 8.775510204081632; 9.081632653061224];
if sum(abs(DistributionWeighedValues - DistributionWeighedValuesStandard)) > power(10, -12)
    fprintf('There is a problem with GetCustomDistribution: \nhandle_ProportionalPDF1\n')
end

handle_ProportionalPDF2 = @(x)RectangleFunction(x);
IntervalLimits = [-5; 5];
N_ValuesInInterval = 21;
N_MaxRep = 2;
DistributionWeighedValues = GetCustomDistribution...
(handle_ProportionalPDF2, IntervalLimits, ...
N_ValuesInInterval, N_MaxRep);
DistributionWeighedValuesStandard = [-0.5; 0; 0; 0.5];
if sum(abs(DistributionWeighedValues - DistributionWeighedValuesStandard)) > power(10, -12)
    fprintf('There is a problem with GetCustomDistribution: \nhandle_ProportionalPDF2\n')
end
clear DistributionWeighedValues ...
    DistributionWeighedValuesStandard ...
    handle_ProportionalPDF1 ...
    handle_ProportionalPDF2 ...
    IntervalLimits N_MaxRep N_ValuesInInterval

%The following is the protocol for the PlotHorizontalErrorbar 
% function. 

x_Data = [0; 1; 3; 4; 7; 8];
y_Data = power (x_Data, 2);
l_Error = [0.5; 1; -2; -3; -0.2; -1.5];
u_Error = [2; 1; 1; 3; 4; 0.5];
symbol = 'ro';
figure(1);
hh = PlotHorizontalErrorbar...
    (x_Data, y_Data, l_Error, u_Error, symbol);
pause('on');pause('off');
close(1);
clear hh l_Error symbol u_Error x_Data y_Data